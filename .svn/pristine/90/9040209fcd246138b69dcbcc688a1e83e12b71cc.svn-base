<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>注册</title>
    <link rel="stylesheet" href="css/register.css" />
    <link rel="stylesheet" href="css/xinhua.css" />
    <link rel="stylesheet" href="css/public.css" />
</head>

<body>
    <div class="top clear">
        <div class="con">
            <div class="top-l fl">
                <span class="wel">欢迎光临新华图书网</span>
                <span class="wel-c">
                    <a href="login.html">[登录]</a>
                    <a href="login.html">[注册]</a>
                </span>
            </div>
            <div class="top-r fr">
                <span>我的账户</span>
                <span>加QQ群</span>
                <span>订单查询</span>
                <span>新华书店微博</span>
            </div>
        </div>
    </div>
    <div class="header">
        <div class="con clear">
            <div class="logo fl"><a href="#"><img src="images/logo.jpg" /></a></div>
        </div>
    </div>

    <div class="con">
        <div class="main">
            <div class="main-t">
                用户注册
            </div>
            <div class="main-b clear">
                <div class="mainl fl">
                    <div class="th">
                        <a href="#" class="a1">新用户注册</a>
                        <a href="#" class="a2">
                            <img height="29" src="images/dl_zc.jpg" width="37">
                            <span>会员卡号注册</span>
                        </a>
                    </div>
                    <div class="tb">
                        <div class="tb1 clear">
                            <span>用户名：</span><input type="text" id="user"><b class="b1"></b>
                        </div>
                        <div class="tb2 clear">
                            <span>请输入密码：</span><input type="password" id="pwd"><b class="b2"></b>
                        </div>
                        <input type="image" src="images/dl_btn3.jpg" class="btn" >
                        <div id="em"></div>
                    </div>
                </div>
                <div class="mainr fl">
                    <div class="d1">
                            ·百万种商品正品保证<br>
                            ·专业的教材、教辅图书<br>
                            ·低廉的购书价格<br>
                            ·快捷的送货上门服务
                    </div>
                    <div class="d2">
                        &nbsp;&nbsp;&nbsp;&nbsp;本网站为沈阳市新华书店旗下网上书店，新会员可以使用自己的电子邮箱作为书业网的用户名进行免费注册，注册成为新华图书网会员后，您在本网站进行消费购物可获得优惠折扣与积分，更有机会获赠沈阳市新华书店实体店会员卡。</div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer con clear">
        <div class="footer_logo fl"><img src="images/ft_1.jpg" width="268" height="32"><br>
            <img src="images/ft2.jpg" width="252" height="58"></div>
        <div class="footer_gn clear fl">
            <div class="howpay_box">
                <h3><img src="images/f2.jpg" width="25" height="25"><span>新手入门</span></h3>
                <ul>
                    <li><a href="#" target="_blank"><span class="style3">购物保障</span></a></li>
                    <li><a href="#" target="_blank"><span class="style3">购物流程</span></a></li>
                    <li><a href="#" target="_blank"><span class="style3">会员制度</span></a></li>
                    <li><a href="#" target="_blank"><span class="style3">常见问题</span></a></li>
                    <li><a href="#" target="_blank"><span class="style3">联系客服</span></a></li>
                </ul>
            </div>
            <div class="howpay_box">
                <h3><img src="images/f3.jpg" width="25" height="25"><span>特色服务</span></h3>
                <ul>
                    <li><a href="#" target="_blank"><span class="style3">书香礼品卡</span></a></li>
                    <li><a href="#" target="_blank"><span class="style3">其它服务</span></a></li>
                    <li><a href="#" target="_blank"><span class="style3">团购优惠</span></a></li>
                </ul>
            </div>
            <div class="howpay_box">
                <h3><img src="images/f4.jpg" width="25" height="25"><span>支付方式</span></h3>
                <ul>
                    <li><a href="#" target="_blank"><span class="style3">货到付款</span></a>
                    </li>
                    <li><a href="#" target="_blank"><span class="style3">在线支付</span></a>
                    </li>
                    <li><a href="#" target="_blank"><span class="style3">邮局汇款</span></a>
                    </li>
                    <li><a href="#" target="_blank"><span class="style3">银行转帐/汇款</span></a></li>
                    <li><a href="#" target="_blank"><span class="style3">公司转账</span></a>
                    </li>

                </ul>
            </div>
            <div class="howpay_box">
                <h3><img src="images/f5.jpg" width="25" height="25"><span>配送服务</span></h3>
                <ul>
                    <li><a href="#" target="_blank"><span class="style3">配送方式</span></a>
                    </li>
                    <li><a href="#" target="_blank"><span class="style3">收费标准</span></a>
                    </li>
                    <li><a href="#" target="_blank"><span class="style3">快递查询入口</span></a></li>
                    <li><a href="#" target="_new"><span class="style3">验货与签收</span></a>
                    </li>
                </ul>
            </div>
            <div class="howpay_box">
                <h3><img src="images/f6.jpg" width="25" height="25"><span>售后服务</span></h3>
                <ul>
                    <li><a href="#" target="_blank"><span class="style3">退换货规则</span></a>
                    </li>
                    <li><a href="#" target="_blank"><span class="style3">退换货流程</span></a>
                    </li>
                    <li><a href="#" target="_blank"><span class="style3">退换货方式说明</span></a></li>
                </ul>
            </div>
            <div class="howpay_box">
                <h3><img src="images/f1.jpg" width="25" height="25"><span>帮助中心</span></h3>
                <ul>
                    <li><a href="#" target="_blank"><span class="style3">我的订单</span></a></li>
                    <li><a href="#" target="_blank"><span class="style3">常见问题</span></a></li>
                    <li><a href="#" target="_blank"><span class="style3">找回密码</span></a></li>
                    <li><a href="#" target="_blank"><span class="style3">关于我们</span></a></li>
                </ul>
            </div>
            <div class="clear"></div>
        </div>
        <div class="clear"></div>
    </div>
    <div class="con fot">
        <br>
        战略合作伙伴：
        <a href="#" target="_blank">
            <img src="images/eye_logo.jpg">
        </a>
        <a href="#" target="_blank">
            <img src="images/bookaskLOGO.jpg" height="26" style="vertical-align:middle;">
        </a>
        <br>
        地址：沈阳市和平区中山路70号 新华大厦1607室&nbsp;&nbsp; 邮编:110001 &nbsp;&nbsp;客服:400-060-8760
        <br>
        增值电信业务经营许可证:辽B2-20130065
        <br>
        辽ICP备09000237号-6 辽ICP备09000237号-1
        <br>
        <a href="#"><img border="0" dragover="true" src="images/footaq_logo.png"></a>
    </div>
</body>
<script>
    class Register{
        constructor(){
            this.user = document.getElementById("user");
            this.pwd = document.getElementById("pwd");
            this.btn = document.querySelector(".btn");
            this.buser = document.querySelector(".b1");
            this.bpwd = document.querySelector(".b2");
            this.em = document.querySelector("#em")
            this.addEvent()
        }
        addEvent(){
            var that = this;
            this.btn.onclick = function(){
                var flag = 0;
                var reg1=/^[a-zA-Z][a-zA-Z0-9]{3,15}$/;
                var result1 = reg1.test(that.user.value);
                if(result1==false){
                    that.buser.innerHTML="格式不正确"
                    flag ==1;
                }
                var reg2=/^[a-zA-Z0-9]{4,10}$/;
                var result2 = reg2.test(that.pwd.value);
                if(result2==false){
                    that.bpwd.innerHTML="格式不正确"
                    flag ==1;
                }
                if(flag!=1){
                   that.setLocal();
                }
            }
        }
        setLocal(){
            this.Msg = localStorage.getItem("Msg");
            this.Msg = this.Msg ? JSON.parse(this.Msg) : [];
            if(this.Msg.length==0){
                this.Msg.push({
                    user:this.user.value,
                    pwd:this.pwd.value
                })
            }
            else{
                var you = this.Msg.some(val=>{
                    return val.user === this.user.value;
                })
                if(you){
                    this.em.innerHTML = "同户名已存在，请重新注册";
                }else{
                    this.em.innerHTML = "";
                    this.Msg.push({
                        user:this.user.value,
                        pwd:this.pwd.value
                    })
                }
            }

            localStorage.setItem("Msg",JSON.stringify(this.Msg))
        }
    }

    new Register();


</script>
<!-- <script src="js/ajax.js"></script>
<script src="js/cookie.js"></script> -->

</html>